<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instalação no Linux: Usando fpcupdeluge</title>
</head>
<body>
    <h1>Instalação no Linux: Usando fpcupdeluge</h1>
    <hr>
    <p>Depois de instalar o FPC dos repositórios, você pode seguir as instruções nesta página para 
    prosseguir com a instalação do Lazarus-IDE.</p>
    <p>Caso ainda não tenha instalado o FreePascal Compiler(FPC, daqui em diante), então siga este link:</p>
    <p><a href="instalacao_linux_instalador.html">Instalação no Linux: Instalação do FPC a partir dos repositórios</a></p>
    <p>Depois de instalar o FPC dos repositórios, usaremos o fpcupdeluge para instalar Lazarus-IDE no HOME do usuário. 
    Instalar o Lazarus-IDE em nossa $HOME é muito bom porque não necessitaremos de permissões especiais
    para aplicar patches ou correções em pacotes instalados ou que instalaremos.</p>
    <p>Antes de prosseguir precisamos fazer um ajuste importante em nosso ambiente Linux, 
    ao executar programas construídos no Lazarus no ambiente Linux pode surgir a seguinte
    mensagem de dependência no terminal:</p>
    <pre>
Gtk-Message: 00:00:00.000: Failed to load module "pk-gtk-module"
    </pre>    
    <p>O programa executa normalmente, mas essa mensagem ou a falta dessa dependência pode indicar que algum
    aspecto visual não está como deveria ser, para corrigir o problema, execute:</p>
    <p>O programa executa normalmente, mas a falta dessa dependência pode indicar que algum aspecto 
        visual não está como deveria ser, para corrigir o problema, execute:</p>
    <pre>
sudo -i
echo "/usr/lib64/gtk-3.0/modules" > /etc/ld.so.conf.d/pk-gtk.conf
echo "/usr/lib64/gtk-2.0/modules" > /etc/ld.so.conf.d/gtk2.conf
ldconfig
    </pre>
    <p>E a mensagem de dependência no terminal sumirá.</p>
    <p>Agora vamos prosseguir, visite a página:<br>
    <a href="https://github.com/LongDirtyAnimAlf/fpcupdeluxe/releases">https://github.com/LongDirtyAnimAlf/fpcupdeluxe/releases</a></p>
    <img src="assets/instalacao_windows_fpcupdeluge1.png">
    <p>O arquivo acima é um script, depois de baixá-lo, no terminal dê permissão de execução:</p>
    <pre>
chmod +x fpcupdeluxe-x86_64-linux
./fpcupdeluxe-x86_64-linux
    </pre>
    <p>Não é necessário usar "sudo" porque essa será uma instalação homeuser, isto é, não vai
         requerer permissões administrativas.</p>
    <p>Na tela seguinte selecione como FPC Version a opção <b>fixes</b> e para Lazarus version 
        também <b>fixes</b>, depois clique em <b>Setup+</b>:</p>
    <img src="assets/instalacao_windows_fpcupdeluge2.png">
    <p>Depois faça o seguinte ajuste selecionando a plataforma que deseja compilar seus programas:</p>
    <img src="assets/instalacao_windows_fpcupdeluge3.png">
    <p>Depois confirme com o Botão OK e então em Install/Update FPC+Laz e prossiga com a instalação:</p>
    <img src="assets/instalacao_windows_fpcupdeluge4.png">
    <p>Então prepare-se, ela é bastante demorada. Após a conclusão com sucesso será gerado 
        uma entrada no menu do sistema. Agora o Lazarus aparecerá no menu de pesquisa do ambiente GNOME.</p>
    <p>Também foi gerado o arquivo Lazarus_fpcupdeluxe no pasta HOME do usuário.
       Se precisar executar o Lazarus por fora do menu padrão, então execute este script.</p> 
</body>
</html>